---
- name: find GC log files
  find:
    paths: "{{ gc_log_dir }}"
    patterns: "{{ gc_log_suffix }}"
    age: "{{ log_history }}"
  register: found_gc_logs

- name: Build the archive dict
  set_fact:
    gc_log_dict: [ { user: "{{Â tomcat_user }}", logfiles: "{{ found_gc_logs.files | map(attribute='path') | list }}", archive: "{{ hc_tmp }}/{{ webapp_server_product }}{{ outer_loop_key }}-GClog.tar.gz" } ]                                

- name: Add GC log files to the list of assets to archive
  set_fact:
    to_archive: "{{ to_archive }} + {{ gc_log_dict }}"

